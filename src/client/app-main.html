<dom-module id="app-main">
  <style>
    .header-wrapper{
      width:100%;
    }
    .otherviewer{
      text-align: center;
      font-style: italic;
      color: #8A97DC;
    }
    .subtitle{
      color: #B4BDEF;
    }
    paper-toolbar{
      background-color: #5E6FC7;
      padding: 20px;
    }
    paper-tab{
      background-color: #EEE;
    }
    paper-tab iron-icon{
      color: #767676;
    }
    paper-tabs paper-tab.iron-selected {
      color: #5A5A5A;
      background-color: #BDBDBD;
    }
  </style>
  <template>
    <paper-toolbar class="medium-tall">
      <div class="header-wrapper">
        <div class="otherviewer">XXX is also viewing</div>
        <div class="title">{{jobTitle}}</div>
        <div class="subtitle">{{statusTitle}}</div>
      </div>
    </paper-toolbar>
    <paper-tabs selected="0" no-bar noink>
      <paper-tab>
        <iron-icon icon="communication:message"></iron-icon>
      </paper-tab>
      <paper-tab>
        <iron-icon icon="social:person-add"></iron-icon>
      </paper-tab>
      <paper-tab>
        <iron-icon icon="communication:business"></iron-icon>
      </paper-tab>
      <paper-tab>
        <iron-icon icon="image:brush"></iron-icon>
      </paper-tab>
    </paper-tabs>
  </template>
  
  <script>
    Polymer({
      is: 'app-main',
      properties: {
        job: {
          type: Object,
          value: null,
          notify: true,
          observer: '_setJobData'
        },
        jobid: {
          type: String,
          notify: true
        },
        jobname: {
          type: String,
          notify: true
        },
        time: {
          type: String,
          notify: true
        },
        status: {
          type: String,
          notify: true
        },
        assignee: {
          type: String,
          notify: true
        },
        updater: {
          type: String,
          notify: true
        },
        jobTitle: {
          type: String,
          notify: true
        },
        statusTitle: {
          type: String,
          notify: true
        }
      },
      _setJobData: function(newValue, oldValue){
        if(!!newValue){
          this.jobid = newValue.job.id;
          this.jobname = newValue.job.name;
          this.time = newValue.job.time;
          this.assignee = newValue.job.assignee;
          this.updater = newValue.job.updater;
          this.status = newValue.job.status;
          
          this.jobTitle = this.jobid + ' - ' + this.jobname;
          this.statusTitle = this.status + '. Updated at ' + this.time + ' by ' + this.updater; 
        }
      } 
    });
  </script>
</dom-module>