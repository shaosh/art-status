<dom-module id="company-selector">
  <style>
	  paper-item{
	    cursor:pointer;
	  }
	  .dropdown-trigger{
	    font-size:20px;
	  }
	</style>
	
  <template>
    <paper-menu-button>
      <paper-button class="dropdown-trigger">
        <span>{{selectedCompany.name}}</span>
        <iron-icon icon="expand-more"></iron-icon>
      </paper-button>
      <paper-menu class="dropdown-content" selected="{{selectedIndex}}">
        <template is="dom-repeat" items="{{companies}}">
          <paper-item>{{item.name}}</paper-item>
        </template>
      </paper-menu>
    </paper-menu-button>
  </template>
  <script>
    
    Polymer({
      is: 'company-selector',
      ready: function(){
      },

      properties:{        
        selectedIndex:{
          type: Number,
          notify: true,
          observer: 'updateCompany'
        }
      },
      
      updateCompany: function(newValue, oldValue){
        if(newValue !== oldValue){       
          this.selectedCompany = this.companies[newValue];
          window.location.hash = '#/' + this.selectedCompany.name;
        }
      }
    });
  </script>
</dom-module>